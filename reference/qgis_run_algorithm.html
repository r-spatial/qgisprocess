<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Run an algorithm using 'qgis_process' — qgis_run_algorithm • qgisprocess</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Run an algorithm using 'qgis_process' — qgis_run_algorithm"><meta name="description" content="Runs an algorithm using 'qgis_process'.
See the QGIS docs
for a detailed description of the algorithms provided
'out of the box' on QGIS."><meta property="og:description" content="Runs an algorithm using 'qgis_process'.
See the QGIS docs
for a detailed description of the algorithms provided
'out of the box' on QGIS."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-custom" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">qgisprocess</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/qgisprocess.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/cheatsheet_en.html">Cheat Sheet (English)</a></li>
    <li><a class="dropdown-item" href="../articles/cheatsheet_es.html">Cheat Sheet (español)</a></li>
    <li><a class="dropdown-item" href="../articles/options.html">Configuration with options or environment variables</a></li>
    <li><a class="dropdown-item" href="../articles/qgis_arguments.html">Passing R objects as algorithm arguments</a></li>
    <li><a class="dropdown-item" href="../articles/qgis_expressions.html">How to use QGIS expressions in qgisprocess?</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/r-spatial/qgisprocess" aria-label="GitHub"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Run an algorithm using 'qgis_process'</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-spatial/qgisprocess/blob/main/R/qgis-run-algorithm.R" class="external-link"><code>R/qgis-run-algorithm.R</code></a></small>
      <div class="d-none name"><code>qgis_run_algorithm.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Runs an algorithm using 'qgis_process'.
See the <a href="https://docs.qgis.org/latest/en/docs/user_manual/processing_algs/" class="external-link">QGIS docs</a>
for a detailed description of the algorithms provided
'out of the box' on QGIS.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">qgis_run_algorithm</span><span class="op">(</span></span>
<span>  <span class="va">algorithm</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  PROJECT_PATH <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ELLIPSOID <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .raw_json_input <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .quiet <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-algorithm">algorithm<a class="anchor" aria-label="anchor" href="#arg-algorithm"></a></dt>
<dd><p>A qualified algorithm name (e.g., <code>"native:buffer"</code>) or
a path to a QGIS model file.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Named key-value pairs as arguments for the algorithm. Features of
<code><a href="https://rlang.r-lib.org/reference/list2.html" class="external-link">rlang::list2()</a></code> are supported. These arguments
are converted to strings using <code><a href="as_qgis_argument.html">as_qgis_argument()</a></code>.</p></dd>


<dt id="arg-project-path-ellipsoid">PROJECT_PATH, ELLIPSOID<a class="anchor" aria-label="anchor" href="#arg-project-path-ellipsoid"></a></dt>
<dd><p>Global values for QGIS project file and
ellipsoid name for distance calculations.</p></dd>


<dt id="arg--raw-json-input">.raw_json_input<a class="anchor" aria-label="anchor" href="#arg--raw-json-input"></a></dt>
<dd><p>The raw JSON to use as input in place of <code>...</code>.
See <em>Details</em> section.</p></dd>


<dt id="arg--quiet">.quiet<a class="anchor" aria-label="anchor" href="#arg--quiet"></a></dt>
<dd><p>Use <code>FALSE</code> to get extra output from 'qgis_process'.
This can be useful in debugging.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>qgis_result</code> object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>qgis_run_algorithm()</code> accepts various R objects as algorithm arguments.
An overview is given by <code><a href="../articles/qgis_arguments.html">vignette("qgis_arguments")</a></code>.
Examples include an R matrix or data frame for the
argument type 'matrix', R colors for the argument type 'color',
sf or terra (SpatVector) objects for the argument type 'vector' and
raster/terra/stars objects for the argument type 'raster', but there are many
more.
<code>qgis_run_algorithm()</code> preprocesses the provided objects into the format that
QGIS expects for a given argument.</p>
<p>Providing R objects that cannot be converted to the applicable argument type
will lead to an error.</p>
<p>Algorithm arguments can be passed as arguments of <code>qgis_run_algorithm()</code>, but
they can also be combined as a JSON string and fed into the <code>.raw_json_input</code>
argument.
A JSON string can be obtained from the QGIS GUI, either from the
processing tool dialog or from the processing history dialog, by selecting
'Copy as JSON' in the 'Advanced' dropdown menu.
So a user can first try out a geoprocessing step in the QGIS GUI, and
once the chosen algorithm arguments are satisfactory, copy the JSON string
to reproduce the operation in R.
A screenshot is available at the package homepage.</p>
    </div>
    <div class="section level2">
    <h2 id="running-qgis-models-and-python-scripts">Running QGIS models and Python scripts<a class="anchor" aria-label="anchor" href="#running-qgis-models-and-python-scripts"></a></h2>


<p>QGIS models and Python scripts can be added to the Processing Toolbox in the
QGIS GUI, by pointing at their corresponding file.
This will put the model or script below the provider 'Models' or
'Scripts', respectively.
Next, it is necessary to run <code><a href="qgis_configure.html">qgis_configure()</a></code> in R in order to make the
model or script available to qgisprocess (even reloading the package won't
detect it, since these providers have dynamic content, not tied to a
plugin or to a QGIS version).
You can check the outcome with <code><a href="qgis_algorithms.html">qgis_providers()</a></code> and
<code><a href="qgis_search_algorithms.html">qgis_search_algorithms()</a></code>.
Now, just as with other algorithms, you can provide the <code>model:&lt;name&gt;</code> or
<code>script:&lt;name&gt;</code> identifier to the <code>algorithm</code> argument of
<code>qgis_run_algorithm()</code>.</p>
<p>As the output argument name of a QGIS model can have an R-unfriendly
syntax, you may need to take the JSON parameter string from the QGIS
processing dialog and feed the JSON string to the <code>.raw_json_input</code> argument
of <code>qgis_run_algorithm()</code> instead of providing separate arguments.</p>
<p>Although the 'qgis_process' backend also supports replacing the 'algorithm'
parameter by the file path of a model file or a Python script, it is not
planned to implement this in qgisprocess, as it would bypass argument
preprocessing in R (including checks).</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="../articles/qgis_arguments.html">vignette("qgis_arguments")</a></code></p>
<p>Other functions to run one geoprocessing algorithm:
<code><a href="qgis_run_algorithm_p.html">qgis_run_algorithm_p</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">qgis_run_algorithm</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"native:buffer"</span>,</span></span>
<span class="r-in"><span>  INPUT <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"longlake/longlake_depth.gpkg"</span>, package <span class="op">=</span> <span class="st">"qgisprocess"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  DISTANCE <span class="op">=</span> <span class="fl">10</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Argument `SEGMENTS` is unspecified (using QGIS default value).</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Using `END_CAP_STYLE = "Round"`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Using `JOIN_STYLE = "Round"`</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Argument `MITER_LIMIT` is unspecified (using QGIS default value).</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Argument `DISSOLVE` is unspecified (using QGIS default value).</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Argument `SEPARATE_DISJOINT` is unspecified (using QGIS default value).</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Using `OUTPUT = qgis_tmp_vector()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;Result of `qgis_run_algorithm("native:buffer", ...)`&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> List of 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ OUTPUT: 'qgis_outputVector' chr "/tmp/Rtmpmmx6JL/file2a7d35b0cb38/file2a7db36d34.gpkg"</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dewey Dunnington, Floris Vanderhaeghe, Jan Caha, Jannes Muenchow, Research Institute for Nature and Forest (INBO).</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

